(this.webpackJsonpmarvel=this.webpackJsonpmarvel||[]).push([[0],[,,,,,,,,,function(e,t,c){},function(e,t,c){},,,,,,,,,function(e,t,c){},,,,,function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){},function(e,t,c){"use strict";c.r(t);var n=c(1),a=c.n(n),r=c(11),s=c.n(r),i=(c(19),c(2)),o=c(0),j=a.a.createContext({});function l(e){var t=e.children,c=Object(n.useState)([]),a=Object(i.a)(c,2),r=a[0],s=a[1];return Object(o.jsx)(j.Provider,{value:{characterContext:r,setCharacterContext:s},children:t})}var h=j,d=c(5);c(9),c(24);function u(e){var t=e.title,c=e.info;return Object(o.jsxs)("div",{className:"wrapInfo",children:[Object(o.jsx)("h3",{className:"titleInfo",children:t}),c.map((function(e){return Object(o.jsx)("h4",{className:"infoName",children:e.name},e.name)}))]})}c(10);function b(e){var t=e.character;return Object(o.jsx)(o.Fragment,{children:t[0]?t.map((function(e){var c=e.name,n=e.id,a=e.thumbnail,r=e.description,s=e.comics,i=e.series,j=e.stories,l=e.events;return Object(o.jsxs)("article",{className:"cardDetailCharacter",children:[Object(o.jsxs)(d.a,{children:[Object(o.jsx)("title",{children:"".concat(c," details")}),Object(o.jsx)("meta",{name:"description",content:"This page is the details of the search ".concat(t.name)})]}),Object(o.jsx)("div",{className:"wrpaImgDetail",children:Object(o.jsx)("img",{className:"imgDetailCharacter",src:"".concat(a.path,".").concat(a.extension)})}),Object(o.jsxs)("div",{className:"wrapInfoDetail",children:[Object(o.jsx)("h2",{className:"nameDetailCharacter",children:c}),Object(o.jsx)("h3",{className:"descriptionDetailCharacter",children:r||"No Description ..."}),Object(o.jsxs)("div",{className:"wrapInfoCharacter",children:[Object(o.jsx)(u,{title:"Comics",info:s.items}),Object(o.jsx)(u,{title:"Series",info:i.items}),Object(o.jsx)(u,{title:"Stories",info:j.items}),Object(o.jsx)(u,{title:"Events",info:l.items})]})]})]},n)})):Object(o.jsxs)("article",{className:"cardDetailCharacter",children:[Object(o.jsxs)(d.a,{children:[Object(o.jsx)("title",{children:"".concat(t.name," details")}),Object(o.jsx)("meta",{name:"description",content:"This page is the details of the search ".concat(t.name)})]}),Object(o.jsx)("div",{className:"wrpaImgDetail",children:Object(o.jsx)("img",{className:"imgDetailCharacter",src:"".concat(t.thumbnail.path,".").concat(t.thumbnail.extension)})}),Object(o.jsxs)("div",{className:"wrapInfoDetail",children:[Object(o.jsx)("h2",{className:"nameDetailCharacter",children:t.name}),Object(o.jsx)("h3",{className:"descriptionDetailCharacter",children:t.description||"No Description ..."}),Object(o.jsxs)("div",{className:"wrapInfoCharacter",children:[Object(o.jsx)(u,{title:"Comics",info:t.comics.items}),Object(o.jsx)(u,{title:"Series",info:t.series.items}),Object(o.jsx)(u,{title:"Stories",info:t.stories.items}),Object(o.jsx)(u,{title:"Events",info:t.events.items})]})]})]})})}c(25),c(26);function m(){var e=Object(n.useState)(!1),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(n.useRef)(null);Object(n.useEffect)((function(){var e=window.matchMedia("(prefers-color-scheme: dark)").matches;a(e),e&&document.body.classList.add("isDarkMode")}),[]);return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)("input",{onChange:function(){a(r.current.checked),r.current.checked?document.body.classList.add("isDarkMode"):document.body.classList.remove("isDarkMode")},checked:c,className:"checkbox",ref:r,id:"checkbox",type:"checkbox"}),Object(o.jsx)("label",{htmlFor:"checkbox",className:"switch"})]})}var f=a.a.memo(m),O=c(4);c(27);function x(){var e=Object(n.useState)(""),t=Object(i.a)(e,2),c=t[0],a=t[1],r=Object(O.c)(),s=Object(i.a)(r,2),j=(s[0],s[1]);return Object(o.jsxs)("form",{onSubmit:function(e){e.preventDefault(),j("/search/".concat(c))},className:"form",children:[Object(o.jsx)("input",{onChange:function(e){a(e.target.value)},type:"text",value:c,placeholder:"Search your favorite Hero...",className:"inputSearch"}),Object(o.jsx)("button",{className:"btn",children:Object(o.jsx)("i",{className:"fas fa-search"})})]})}function v(){return Object(o.jsxs)("div",{className:"header",children:[Object(o.jsx)(O.a,{to:"/mavs/",className:"title",children:"Mavs"}),Object(o.jsx)(x,{}),Object(o.jsx)(f,{})]})}var p=a.a.memo(v);c(28);function g(){return Object(o.jsx)("div",{className:"spinner"})}var C="d7d7b9e740b86d1ad247cf85e2470fd8",N="c20a02eaa0de7e477a390cb3f0dacf26",k="https://gateway.marvel.com:443/v1/public/characters";function w(e){var t=e.data.results;return void 0===t?[]:t}function S(e){var t=e.id,c=Object(n.useContext)(h).characterContext.find((function(e){return e.id===Number(t)})),a=Object(n.useState)(c),r=Object(i.a)(a,2),s=r[0],o=r[1],j=Object(n.useState)(!1),l=Object(i.a)(j,2),d=l[0],u=l[1],b=Object(n.useState)(!1),m=Object(i.a)(b,2),f=m[0],O=m[1];return Object(n.useEffect)((function(){s||(u(!0),function(e){var t=e.id,c="".concat(k,"/").concat(t,"?ts=1&apikey=").concat(C,"&hash=").concat(N);return fetch(c).then((function(e){return e.json()})).then(w)}({id:t}).then((function(e){o(e),u(!1),O(!1)})).catch((function(){u(!1),O(!0)})))}),[t,s]),{character:s,loading:d,isError:f}}function y(e){var t=S({id:e.params.id}),c=t.character,n=t.loading,a=t.isError;return c?a?Object(o.jsx)("h2",{children:"There was an error in obtaining the data"}):Object(o.jsxs)(o.Fragment,{children:[Object(o.jsx)(p,{}),n?Object(o.jsx)(g,{}):Object(o.jsx)(b,{character:c})]}):null}function D(e){var t=e.path,c=e.extension,n=e.name,a=e.description,r=e.id;return Object(o.jsxs)(O.a,{to:"/detail/".concat(r),className:"cardCharacter",children:[Object(o.jsx)("img",{loading:"lazy",className:"imgCharacter",src:"".concat(t,".").concat(c)}),Object(o.jsx)("h3",{className:"nameCharacter",children:n}),Object(o.jsx)("p",{className:"descriptionCharacter",children:a||"No description"})]})}var I=a.a.memo(D);c(29);function E(e){var t=e.characterContext,c=e.loading;return Object(o.jsx)("div",{className:"heroList",children:c?Object(o.jsx)(g,{}):t.map((function(e){var t=e.id,c=e.name,n=e.thumbnail,a=e.description;return Object(o.jsx)(I,{id:t,description:a,name:c,path:n.path,extension:n.extension},t)}))})}var F=a.a.memo(E);function M(e){var t=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.keyword,c=e.limit,n=void 0===c?25:c,a=e.page,r=void 0===a?0:a;return t?"".concat(k,"?limit=").concat(n,"&offset=").concat(n*r,"&nameStartsWith=").concat(t,"&ts=1&apikey=").concat(C,"&hash=").concat(N):"".concat(k,"?limit=").concat(n,"&offset=").concat(n*r,"&ts=1&apikey=").concat(C,"&hash=").concat(N)}({keyword:e.keyword,page:e.page});return fetch(t).then((function(e){return e.json()})).then(T)}function T(e){var t=e.data.results;return void 0===t?[]:t}function L(e){var t=Object(n.useContext)(h),c=t.characterContext,a=t.setCharacterContext,r=Object(n.useState)(!1),s=Object(i.a)(r,2),o=s[0],j=s[1],l=Object(n.useState)(0),d=Object(i.a)(l,2),u=d[0],b=d[1];return Object(n.useEffect)((function(){j(!0),M({keyword:e}).then((function(e){a(e),j(!1)}))}),[e]),Object(n.useEffect)((function(){0!==u&&M({keyword:e,page:u}).then((function(e){a((function(t){return t.concat(e)}))}))}),[u]),{characterContext:c,loading:o,setPage:b}}var P=c(1),B=P.useEffect,R=P.useRef,J=P.useState,z=c(14),H=c.n(z);function W(){var e=L(),t=e.characterContext,c=e.loading,a=e.setPage,r=function(){var e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).once,t=void 0===e||e,c=J(!1),n=Object(i.a)(c,2),a=n[0],r=n[1],s=R(null);return B((function(){var e=new IntersectionObserver((function(e,c){e[0].isIntersecting?(r(!0),t&&c.disconnect()):!t&&r(!1)}),{rootMargin:"750px"});return e.observe(s.current),function(){return e.disconnect()}}),[t]),{elementNearScreen:s,isIntersection:a}}({once:!1}),s=r.elementNearScreen,j=r.isIntersection,l=Object(n.useCallback)(H()((function(){return a((function(e){return e+1}))}),1e3),[]);return console.log(j),Object(n.useEffect)((function(){j&&l()}),[j]),Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(d.a,{children:[Object(o.jsx)("title",{children:"Mavs | Roberto Bocio"}),Object(o.jsx)("meta",{name:"description",content:" This page is the Mavs home"})]}),Object(o.jsx)(p,{}),Object(o.jsx)(F,{characterContext:t,loading:c}),Object(o.jsx)("div",{ref:s})]})}function q(e){var t=e.params.keyword,c=L(t),n=c.characterContext,a=c.loading;return Object(o.jsxs)(o.Fragment,{children:[Object(o.jsxs)(d.a,{children:[Object(o.jsx)("title",{children:"".concat(n.length," results of ").concat(t)}),Object(o.jsx)("meta",{name:"description",content:"This page is the results of the search"})]}),Object(o.jsx)(p,{}),Object(o.jsx)(F,{loading:a,characterContext:n})]})}c(30);var A=function(){return Object(o.jsxs)(l,{children:[Object(o.jsx)(O.b,{path:"/mavs/",component:W}),Object(o.jsx)(O.b,{path:"/search/:keyword",component:q}),Object(o.jsx)(O.b,{path:"/detail/:id",component:y})]})},G=function(e){e&&e instanceof Function&&c.e(3).then(c.bind(null,32)).then((function(t){var c=t.getCLS,n=t.getFID,a=t.getFCP,r=t.getLCP,s=t.getTTFB;c(e),n(e),a(e),r(e),s(e)}))};s.a.render(Object(o.jsx)(a.a.StrictMode,{children:Object(o.jsx)(A,{})}),document.getElementById("root")),G()}],[[31,1,2]]]);
//# sourceMappingURL=main.40211776.chunk.js.map